append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collections", #can be a folder with multiple files
originator = "myself",
title = "empty sheets",
source = "folder",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
taf.bootstrap() #brings all data that is in DATA.bib to the data folder - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped!
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collection", #can be a folder with multiple files
originator = "myself",
title = "empty sheets",
source = "folder",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
taf.bootstrap() #brings all data that is in DATA.bib to the data folder - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped!
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped!
?cat
cat('library(icesTAF)
library(sf)
download(
"http://gis.ices.dk/shapefiles/ICES_areas.zip"
)
unzip("ICES_areas.zip")
unlink("ICES_areas.zip")
areas <- st_read("ICES_Areas_20160601_cut_dense_3857.shp")
# write as csv
st_write(
areas, "ices-areas.csv",
layer_options = "GEOMETRY=AS_WKT"
)
unlink(dir(pattern = "ICES_Areas_20160601_cut_dense_3857"))
',
file = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R")
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
draft.data(
data.files = NULL,
data.scripts = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
setwd("D:/taf-workshop/example-analysis")
# install.packages("icesTAF")
library(icesTAF)
taf.skeleton()
# bring in a local file from elsewhere (institute network, shared drive, dropbox)
# -------
# document
draft.data(
data.files = "trees.csv",
data.scripts = NULL,
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# copy file from elsewhere to bootstral initial data folder
cp(
"D:/taf-workshop/taf-workshop-example-1/bootstrap/initial/data/trees.csv",
"bootstrap/initial/data/"
)
# check bootstrap works as we expect: i.e. copy data from:
# bootstrap initial data -> bootstrap data
taf.bootstrap(software = FALSE)
# use a folder of initial data
# ------
# create a data collection (i.e. a folder of related files which will have BIB entry)
mkdir("bootstrap/initial/data/data-collection/")
cp(
"D:/taf-workshop/taf-workshop-example-1/bootstrap/initial/data/*",
"bootstrap/initial/data/data-collection/"
)
draft.data(
data.files = "data-collection",
data.scripts = NULL,
originator = "R datasets package",
title = "Collection of R data",
source = "folder",
file = TRUE,
append = TRUE # create a new DATA.bib
)
taf.bootstrap(software = FALSE)
# bring in an online file: hadley sea surface temperature
# -------
draft.data(
data.files = "HadSST.4.0.1.0_median.nc",
data.scripts = NULL,
originator = "UK MET office",
title = "Met Office Hadley Centre observations datasets",
year = 2022,
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
file = TRUE,
append = TRUE
)
taf.bootstrap(software = FALSE)
# use an R script to get data
# ----
# for reproducibility purposes here is the file:
cat('library(icesTAF)
library(sf)
download(
"http://gis.ices.dk/shapefiles/ICES_areas.zip"
)
unzip("ICES_areas.zip")
unlink("ICES_areas.zip")
areas <- st_read("ICES_Areas_20160601_cut_dense_3857.shp")
# write as csv
st_write(
areas, "ices-areas.csv",
layer_options = "GEOMETRY=AS_WKT"
)
unlink(dir(pattern = "ICES_Areas_20160601_cut_dense_3857"))
',
file = "bootstrap/ices-areas.R")
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
taf.bootstrap()
taf.bootstrap()
taf.bootstrap()
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/From Colin/example-analysis-afternoon-coffee1/example-analysis")
# install.packages("icesTAF")
library(icesTAF)
taf.skeleton()
# bring in a local file from elsewhere (institute network, shared drive, dropbox)
# -------
# document
draft.data(
data.files = "trees.csv",
data.scripts = NULL,
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# copy file from elsewhere to bootstral initial data folder
cp(
"D:/taf-workshop/taf-workshop-example-1/bootstrap/initial/data/trees.csv",
"bootstrap/initial/data/"
)
# check bootstrap works as we expect: i.e. copy data from:
# bootstrap initial data -> bootstrap data
taf.bootstrap(software = FALSE)
# use a folder of initial data
# ------
# create a data collection (i.e. a folder of related files which will have BIB entry)
mkdir("bootstrap/initial/data/data-collection/")
cp(
"D:/taf-workshop/taf-workshop-example-1/bootstrap/initial/data/*",
"bootstrap/initial/data/data-collection/"
)
draft.data(
data.files = "data-collection",
data.scripts = NULL,
originator = "R datasets package",
title = "Collection of R data",
source = "folder",
file = TRUE,
append = TRUE # create a new DATA.bib
)
taf.bootstrap(software = FALSE)
# bring in an online file: hadley sea surface temperature
# -------
draft.data(
data.files = "HadSST.4.0.1.0_median.nc",
data.scripts = NULL,
originator = "UK MET office",
title = "Met Office Hadley Centre observations datasets",
year = 2022,
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
file = TRUE,
append = TRUE
)
taf.bootstrap(software = FALSE)
# use an R script to get data
# ----
# for reproducibility purposes here is the file:
cat('library(icesTAF)
library(sf)
download(
"http://gis.ices.dk/shapefiles/ICES_areas.zip"
)
unzip("ICES_areas.zip")
unlink("ICES_areas.zip")
areas <- st_read("ICES_Areas_20160601_cut_dense_3857.shp")
# write as csv
st_write(
areas, "ices-areas.csv",
layer_options = "GEOMETRY=AS_WKT"
)
unlink(dir(pattern = "ICES_Areas_20160601_cut_dense_3857"))
',
file = "bootstrap/ices-areas.R")
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
taf.bootstrap()
draft.data(
data.files = NULL,
data.scripts = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
install.packages("icesTAF")
install.packages("icesTAF")
library(icesTAF)
#creates folder structure
taf.skeleton()
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
library(icesTAF)
#creates folder structure
taf.skeleton()
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collection", #give name of a folder
originator = "myself",
title = "empty sheets",
source = "folder", #write folder if it is a folder
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R",
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", dir = "bootstrap/initial/data/")
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", dir = "bootstrap/initial/data/")
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", "bootstrap/initial/data/")
#download data
download("https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc", dir = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/initial/data")
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collection", #give name of a folder
originator = "myself",
title = "empty sheets",
source = "folder", #write folder if it is a folder
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
#bring in data from script
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R", # this needs to be in the bootstrap folder
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", "bootstrap/initial/data/")
#download data
download("https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc", dir = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/initial/data")
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
install.packages("icesTAF")
install.packages("icesTAF")
library(icesTAF)
#creates folder structure
taf.skeleton()
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collection", #give name of a folder
originator = "myself",
title = "empty sheets",
source = "folder", #write folder if it is a folder
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
#bring in data from script
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R", # this needs to be in the bootstrap folder
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", "bootstrap/initial/data/")
#download data
download("https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc", dir = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/initial/data")
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
#move scripts that are used to import data to the bootstrap folder
file.edit("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.csv")
#move scripts that are used to import data to the bootstrap folder
file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R")
#move scripts that are used to import data to the bootstrap folder
file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R")
#move scripts that are used to import data to the bootstrap folder
invisible(file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R"))
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
library(icesTAF)
#creates folder structure
taf.skeleton()
#move script(s) that are used to import data to the bootstrap folder
invisible(file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R"))
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
# create metadata (add to previous BATA.bib)
draft.data(
data.files = "HadSST.4.0.1.0_median.nc", #can be a folder with multiple files
originator = "UK MET office",
title = "Met office observations data set",
source = "https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc",
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
draft.data(
data.files = "collection", #give name of a folder
originator = "myself",
title = "empty sheets",
source = "folder", #write folder if it is a folder
year = 2022,
file = TRUE,
append = TRUE # append to existing DATA.bib
)
#bring in data from script
draft.data(
data.files = NULL,
data.scripts = "ices-areas.R", # this needs to be in the bootstrap folder
originator = "ICES",
title = "ICES areas",
file = TRUE,
append = TRUE
)
#bring in a local file from elsewhere (to initial/data)
cp("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/trees.csv", "bootstrap/initial/data/")
#download data
download("https://www.metoffice.gov.uk/hadobs/hadsst4/data/netcdf/HadSST.4.0.1.0_median.nc", dir = "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/initial/data")
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
taf.bootstrap(software = FALSE) #brings all data that is in DATA.bib to the data folder (from "initial/data") - so basically can be run once in the end, depends. Existing data will not be overwritten but skipped - so if you need to update the data, remove the files from the data folder first!
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
library(icesTAF)
#creates folder structure
taf.skeleton()
#move script(s) that are used to import data to the bootstrap folder
invisible(file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R"))
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
setwd("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example")
library(icesTAF)
#creates folder structure
taf.skeleton()
#move script(s) that are used to import data to the bootstrap folder
invisible(file.copy("C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/sample_files/ices-areas.R", "C:/Users/pohlmann/Desktop/Home_Office/Projekte/wg_WGEEL/Misc/WKTAF/Example/bootstrap/ices-areas.R"))
# create metadata
draft.data(
data.files = "trees.csv",
originator = "Ryan, T. A., Joiner, B. L. and Ryan, B. F. (1976) The Minitab Student Handbook. Duxbury Press.",
title = "Diameter, Height and Volume for Black Cherry Trees",
file = TRUE,
append = FALSE # create a new DATA.bib
)
